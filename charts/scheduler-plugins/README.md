# scheduler-plugins

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v0.24.9](https://img.shields.io/badge/AppVersion-v0.24.9-informational?style=flat-square)

Deploy scheduler-plugins as a default/second scheduler in cluster

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| nameOverride | string | `""` |  |
| fullnameOverride | string | `""` |  |
| image.repository | string | `"registry.k8s.io"` | repository to fetch images from |
| image.tag | string | `""` | default is the chart appVersion |
| useForKubeSchedulerUser | bool | `false` | allow User system:kube-scheduler to work with metrics and CRDs. primary usage is to replace default-scheduler with custom one |
| scheduler.enabled | bool | `false` | deploy second scheduler as deployment |
| scheduler.image | string | `"scheduler-plugins/kube-scheduler"` | path to scheduler image from repository |
| scheduler.imagePullPolicy | string | `"IfNotPresent"` |  |
| scheduler.replicaCount | int | `1` | increase for HA mode |
| scheduler.leaderElect | bool | `false` | enable for HA mode |
| scheduler.verbosity | int | `1` | Log level from 1 to 9 |
| scheduler.qps | int | `50` | Query per second limit of calls to apiserver |
| scheduler.percentageOfNodesToScore | int | `0` | 0 is default linear algorithm |
| scheduler.strategy.type | string | `"RollingUpdate"` | Deployment update strategy type |
| scheduler.resources | object | `{}` | requests/limits for scheduler deployment |
| scheduler.affinity | object | `{}` | affinity for deployment's pods |
| controller.enabled | bool | `false` | enable controller (needed for Coscheduling plugin) |
| controller.image | string | `"scheduler-plugins/controller"` | path to controller image from repository |
| controller.imagePullPolicy | string | `"IfNotPresent"` |  |
| controller.replicaCount | int | `1` | increase for HA mode |
| controller.strategy.type | string | `"RollingUpdate"` | Deployment update strategy type |
| controller.resources | object | `{}` | requests/limits for controller deployment |
| controller.affinity | object | `{}` | affinity for deployment's pods |
| priorityClassName | string | `"system-node-critical"` |  |
| tolerations | list | `[]` |  |
| nodeSelector | object | `{}` |  |
| podAnnotations | object | `{}` |  |
| securityContext.privileged | bool | `false` |  |
| securityContext.allowPrivilegeEscalation | bool | `false` |  |
| securityContext.runAsNonRoot | bool | `true` |  |
| securityContext.runAsUser | int | `1000` |  |
| securityContext.runAsGroup | int | `1000` |  |
| securityContext.capabilities.drop[0] | string | `"ALL"` |  |
| schedulerConfig.apiVersion | string | `"kubescheduler.config.k8s.io/v1beta2"` | scheduler config apiversion (ref: https://kubernetes.io/docs/reference/scheduling/config/) |

## Upgrading an existing Release to a new major version

A major chart version change (like v0.2.3 -> v1.0.0) indicates that there is an incompatible breaking change needing manual actions.

### From 0.x to 1.x

This version changes default kube-scheduler config apiversion to
`"kubescheduler.config.k8s.io/v1beta2"` to be compatible with
k8s-1.24.x (latest supported by scheduler-plugins at a moment).

You have to change "schedulerConfig.apiVersion" in values if you use
chart with older k8s.

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
